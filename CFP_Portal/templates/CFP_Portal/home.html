{% extends "CFP_Portal/sidebar.html" %}
{% block content %}
{% load static%}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <!--  This file has been downloaded from bootdey.com    @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->
    <title> Home </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="http://netdna.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'CFP_Portal/home.css' %}">
    <style type="text/css">
     </style>
</head>
<body style="margin-top:-4px;  background:#fff;   background-image: url(https://startbootstrap.com/assets/img/overlay.svg), linear-gradient(45deg, black 0%, #0046B1 100%);">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

<div class="container">

<div class="container-fluid p-0 m-0">
    <div class="row">
        <div class="col-xl-3 col-md-6">
            <div class="card bg-pattern">
            {%if  group != "Submitters"%}
                
                <div class="card-body" style=" background: rgb(250, 251, 252) url('/media/sidebar/laptop.jpg') top left repeat-y;">
                
                    <div class="float-right">
                    <a href ="{% url 'projects' %}"> <button type="button" class="btn btn-primary btn-xs  mt-1 mb-1 ml-1"> 
                              
                                <i class="fa fa-archive fa-xs"></i> 
                                View 
                               </button></a>
                    </div>
                     <div class="row">
                     <div class="col">  <h5 class="font-size-20 mt-0 pt-1"> {{totalnumber}} </h5></div>
                    
                     <div class="col">   <p class="text-muted">All the Project Proposals </p></div>
                     </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card bg-pattern" style=" background: rgb(250, 251, 252) url('/media/sidebar/laptop.jpg') top left repeat-y;">
                <div class="card-body">
                    <div class="float-right">
                         <a href ="{% url 'acceptedprojects' %}"> <button type="button" class="btn btn-primary btn-xs  mt-1 mb-1 ml-1"> 
                              
                                <i class="fa fa-archive fa-xs"></i> 
                                View 
                               </button></a>
                    </div>
                    <h5 class="font-size-20 mt-0 pt-1">{{acceptednumber}}</h5>
                    <p class="text-muted mb-0">Accepted Projects</p>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="card bg-pattern">
                <div class="card-body" style=" background: rgb(250, 251, 252) url('/media/sidebar/laptop.jpg') top left repeat-y;">
                    <div class="float-right">
                         <a href ="#"> <button type="button" class="btn btn-primary btn-xs  mt-1 mb-1 ml-1"> 
                              
                                <i class="fa fa-archive fa-xs"></i> 
                                View 
                               </button></a>
                    </div>
                    <h5 class="font-size-20 mt-0 pt-1">{{pending}}</h5>
                    <p class="text-muted mb-0"> Projects Under Review</p>
                </div>
            </div>
        </div>


        
        <div class="col-xl-3 col-md-6">
            <div class="card">
                <div class="card-body" style=" background: rgb(250, 251, 252) url('/media/sidebar/laptop.jpg') top left repeat-y;">
                 
                
                <form class="form-inline my-2 my-lg-0" method="GET">
                
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="search" style="width:70%"><button class="btn btn-danger" type="submit" id="project-search-addon"><i class="fa fa-search search-icon font-12"></i></button>
                
                </form><br>
                    <form method="get">
            
		    <button class="btn btn-primary" name="allprojects" style="margin:0px" type="submit" > All projects </button>
              </form>
                </div>
            </div>
        
    
          </div>

    </div>
    <!-- end row -->

    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive project-list">
                        <table class="table project-table table-centered table-nowrap">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Projects</th>
                                    <th scope="col">Launching Date</th>
                                    <th scope="col">Status</th>
                                    
                                    <th scope="col">Progress</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                            <div class = "text-center">
                            <a href="{% url 'export'  %}"><button type="button" class="btn btn-info">   <i class="fa fa-upload fa-xs"> </i> Export Data
                                 </button></a></div><br>
                              {% for project in projects %}
                              
                                    <tr>
                                    <th scope="row">{{project.id}}</th>
                                    <td ><a href="{% url 'project-detail' project.id %}"> {{project.project_title}} </a></td>
                                    <td>{{project.launching_date}}</td>
                                    <td>
                                      {% if project.status == "Rejected"%}
                            <span class="badge badge-danger"><i class="mdi mdi-checkbox-blank-circle mr-1"></i>{{project.status}} </span>

                            
                            {% elif project.status == "Submitted"%}
                             <span class="badge badge-warning"><i class="mdi mdi-checkbox-blank-circle mr-1"></i>{{project.status}} </span>

                            {% elif project.status == "Accepted"%}
                            <span class="badge badge-success"><i class="mdi mdi-checkbox-blank-circle mr-1"></i>{{project.status}}  </span>

                            {% elif project.status == "Under Review"%}
                            <span class="badge badge-info">{{project.status}}  </span>


                             {% elif project.status == " Reviewed"%}
                            <span class="badge badge-primary">{{project.status}}  </span>
                            


                    {% endif %}
                                        {% comment %} <span class="text-primary font-12"><i class="mdi mdi-checkbox-blank-circle mr-1"></i> {{project.status}}</span> {% endcomment %}
                                    </td>
                                    
                                    <td>
                                       
                                        <script type='text/javascript'>$(document).ready(function() {
                                    $('.progress .progress-bar').css("width",
                                    function() {
                                    return $(this).attr("aria-valuenow") + "%";
                                    }
                                    )
                                    });</script>
                                           {% if project.status == "Rejected"%}
                      <p class="mb-0">Progress<span class="float-right">100%</span></p>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-dark" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>

                            
                            {% elif project.status == "Submitted"%}
                             <p class="mb-0">Progress<span class="float-right">25%</span></p>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-dark" role="progressbar" style="width: 100%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>

                            {% elif project.status == "Accepted"%}
                             <p class="mb-0">Progress<span class="float-right">100%</span></p>
                            <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-dark" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            
                            {% elif project.status == "Under Review"%}
                             <p class="mb-0">Progress<span class="float-right">50%</span></p>
                           <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-dark" role="progressbar" style="width: 100%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>

                             {% elif project.status == " Reviewed"%}
                              <p class="mb-0">Progress<span class="float-right">75%</span></p>
                           <div class="progress mt-2" style="height: 5px;">
                                <div class="progress-bar bg-dark" role="progressbar" style="width: 100%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            
                           {% endif %}


                                    </td>

                                    <td>
                                        <div class="action">
                                            <a href="#" class="text-dark mr-4" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit"> <i class="fa fa-pencil h5 m-0"></i></a>
                                            <a href="#" class="text-danger" data-toggle="tooltip" data-placement="top" title="" data-original-title="Close"> <i class="fa fa-remove h5 m-0"></i></a>
                                        </div>
                                    </td>
                                </tr>


                              {% endfor %}
                               
                                      
                                    
                    <!-- end project-list -->

                    {% comment %} <div class="pt-3">
                    
                        <ul class="pagination justify-content-end mb-0">
                            <li class="page-item disabled">
                                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item active"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#">Next</a>
                            </li>
                        </ul>
                    </div> {% endcomment %}
                    {% endif %}
                   
                {%if  group == "Submitters"%}
            <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive project-list">
                        <table class="table project-table table-centered table-nowrap">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Projects</th>
                                    <th scope="col">Launching Date</th>
        
                                </tr>
                            </thead>
                            <tbody>
                            
                              {% for project in individualprojects %}
                                    <tr>
                                    <th scope="row">{{project.id}}</th>
                                    <td ><a href="{% url 'project-detail' project.id %}"> {{project.project_title}} </a></td>
                                    <td>{{project.launching_date}}</td>
                                    <td>
                                        <span class="text-danger font-12"><i class="mdi mdi-checkbox-blank-circle mr-1"></i> {{project.status}}</span>
                                    </td>
                                    
                                 
                                </tr>
                                {% comment %} </tbody></table></div></div></div></div></div> {% endcomment %}


                              {% endfor %}
                              {%endif%}
                              </table> 
                </div>   
        </div>
        </div>
                
            </div>
        
    </div>
   
  {% comment %} <ul class="pagination">

  
    {% if all_projects.has_previous %}
    <li><a href="?page={{ all_projects.previous_page_number }}&order_by={{ order_by }}">previous</a></li>
    {% endif %}
    <li class="disabled"><a>Page {{ all_projects.number }} of {{ all_projects.paginator.num_pages }}</a></li>
    {% if all_projects.has_next %}
    <li><a href="?page={{ all_projects.next_page_number }}&order_by={{ order_by }}">next</a>next</a></li>
    {% endif %}
</ul> {% endcomment %}
<div class = "text-right">
    {% if projects.has_other_pages %}
    <div class="btn-group" role="group">
        <a class="btn btn-info mb-4" href="?page=1">First</a>

  {% if projects.has_previous %}
        <a class="btn btn-info mb-4" href="?page={{ projects.previous_page_number }}">Previous</a>
    {% comment %} <li><a href="?page={{ projects.previous_page_number }}">&laquo;</a></li> {% endcomment %}
  {% else %}
    <div class="disabled"> <a class="btn btn-info mb-4 disabled"  >Previous</a></div>

  {% endif %}

  {% for i in projects.paginator.page_range %}
    {% if projects.number == i %}
       {% comment %} <li class="active"><span>{{ i }} <span class="sr-only">(current)</span>  </span></li> {% endcomment %}
       <a class="btn btn-info mb-4" href="?page={{ i }}">{{ i }}</a>

    
     {% comment %} {% else %} {% endcomment %}
    {% comment %} <li><a href="?page={{ i }}">{{ i }}</a></li>  {% endcomment %}
     {% elif i > projects.number|add:'-3' and i < projects.number|add:'3' %}
          <a class="btn btn-outline-info mb-4" href="?page={{ i }}">{{ i }}</a>
  {% endif %}
{% endfor %}

{% if projects.has_next %}
  {% comment %} <li><a href="?page={{ projects.next_page_number }}">&raquo;</a></li> {% endcomment %}
          <a class="btn btn-info mb-4" href="?page={{ projects.next_page_number }}">Next</a>
     {% else %}
     {% comment %} <li class="disabled"><span>&raquo;</span></li> {% endcomment %}
    <div class="disabled">
            <a class="btn btn-info mb-4 disabled" >Next</a></div>
    {% endif %}
    
    
     <a class="btn btn-info mb-4" href="?page={{ projects.paginator.num_pages }}">Last</a>
</div>

 {% endif %}
     </div>
    
    <!-- end row -->
</div>

   {% comment %} {% if is_paginated %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-info mb-4" href="?page=1">First</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
      {% endif %}

    {% endif %} {% endcomment %}


<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript">
	
</script>
</body>
</html>

{% endblock %}